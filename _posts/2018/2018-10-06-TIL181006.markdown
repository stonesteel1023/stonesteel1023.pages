---
layout : post
date: 2018-10-06 15:00
title: 
tag: java
comments: true
---

# Apache Antによるビルド

Apache Antは、Unixのmakeユーティリティの機能と似たビルド・ツールです。Antは、XML形式のビルドファイルを使用して、アプリケーションとそのコンポーネントを構築するためのプロセスを記述および制御します。Antはクロス・プラットフォームのコンパイルをサポートしており、簡単に拡張できます。Apache Antは、Apache Software Foundationの製品です。詳細は、Webサイト(http://ant.apache.org/index.html)を参照してください。

Antビルドファイルでは、ターゲットの定義とターゲット間の依存性の定義を行います。各ビルドファイルには、1つのプロジェクトと少なくとも1つのターゲットが含まれています。ターゲットは、プログラミングされたタスクのシーケンスです。Antを実行してターゲットを作成する場合、ターゲットが依存する他のターゲットを最初に作成してから、ターゲット独自のタスクが実行されます。

AntはJDeveloperに統合されていて、その一部としてインストールされるため、JDeveloperを拡張機能として追加する必要はありません。アプリケーションまたはプロジェクト用にAntビルドファイルを追加または作成したり、空のビルドファイルを作成することができます。Antビルドファイルを編集するために、JDeveloperでXMLソース・エディタが使用できます。
 
## アプリケーション・レベルでのAntビルドファイルの作成:

1.「ファイル」→「新規」を選択して「新規ギャラリ」を開きます。


2.「新規ギャラリ」の「カテゴリ」ツリーで、「一般」の「Ant」を選択します。


3.「項目」リストで、「アプリケーションからのビルドファイル」をダブルクリックします。ビルドファイルの作成ダイアログが開き、デフォルトのファイル名とディレクトリを変更できます。ダイアログの使用中にヘルプを参照するには、[F1]を押します。


4.「OK」をクリックします。新しいbuild.xmlファイルが作成され、XMLソース・エディタで開きます。生成されたbuild.propertiesファイルも作成されます。このファイルは両方とも「アプリケーション」ウィンドウの「アプリケーション・リソース」に表示されます。

 
## プロジェクト・レベルでのAntビルドファイルの作成:

1.「ファイル」→「新規」を選択して「新規ギャラリ」を開きます。


2.「新規ギャラリ」の「カテゴリ」ツリーで、「一般」の「Ant」を選択します。


3.「項目」リストで、「プロジェクトからのビルドファイル」をダブルクリックします。ビルドファイルの作成ダイアログが開き、デフォルトのファイル名とディレクトリを変更できます。ダイアログの使用中にヘルプを参照するには、[F1]を押します。


4.「OK」をクリックします。新しいbuild.xmlファイルが作成され、XMLソース・エディタで開きます。生成されたbuild.propertiesファイルも作成されます。このファイルは両方とも「アプリケーション」ウィンドウの「アプリケーション・リソース」に表示されます。

 
## 空のAntビルドファイルの作成:

1.「ファイル」→「新規」を選択して「新規ギャラリ」を開きます。


2.「新規ギャラリ」の「カテゴリ」ツリーで、「一般」の「Ant」を選択します。


3.「項目」リストで、「空のビルドファイル」をダブルクリックします。ビルドファイルの作成ダイアログが開き、デフォルトのファイル名とディレクトリを変更できます。ダイアログの使用中にヘルプを参照するには、[F1]を押します。


4.「OK」をクリックします。新しいbuild.xmlファイルが作成され、XMLソース・エディタで開きます。これは、「アプリケーション」ウィンドウの「リソース」ノードに表示されます。

 
ビルドファイル・ターゲットに対するAntの実行:

•プロジェクト・ビルドファイル内のターゲットに対して実行する場合。プロジェクトには複数のAntビルドファイルを含めることができますが、プロジェクトのビルドファイルとして指定できるのは1つのみです。「プロジェクトでAntを実行」ツールバー・アイコンおよびドロップダウン・メニューから、プロジェクトのビルドファイルのターゲットに簡単にアクセスできるように構成できます。


•Antビルドファイルの編集時に「構造」ウィンドウから実行する場合。XMLソース・エディタでAntビルドファイルを開くと、そのターゲットが「構造」ウィンドウに表示されます。これらを選択して実行できます。


•独自に定義した外部ツールから実行する場合。「外部ツールの作成」ウィザードを使用して、Antターゲットを作成するメニュー項目およびツールバー・ボタンを定義します。

 
 
## プロジェクト・ビルドファイル・ターゲットに対するAntの実行

AntをJDeveloperのメイン・メニューおよびツールバーから起動し、現在のプロジェクトのプロジェクト・ビルドファイルに定義されているターゲットを構築できます。

プロジェクトには複数のAntビルドファイルを含めることができ、これらの1つをプロジェクトのビルドファイルとして指定できます。「<project>でAntを実行」ツールバー・ボタンおよびドロップダウン・メニューから、プロジェクトのビルドファイルのターゲットに簡単にアクセスできるように構成できます。

プロジェクトのビルドファイルを選択して構成するには、Antプロジェクトのプロパティ・ページに移動します(「プロジェクト」→「プロジェクト・プロパティ」→「Ant」を選択)。
 
プロジェクトのビルドファイルのターゲットに対してAntを実行するには、次のようにします。

•ツールバーで、「<project>でAntを実行」をクリックします。

Antによって、プロジェクトに指定されているデフォルトのターゲットが作成されます。


•メイン・メニューから、 「ビルド」→「<project>でAntを実行」をクリックします。

Antによって、プロジェクトに指定されているデフォルトのターゲットが作成されます。


•「構造」ペインからターゲットを選択します。

  
 
12.6.2 IDEでのAntツールの使用

Antログ・ウィンドウには、Antビルドに固有のメッセージが表示されます。Antログ・ウィンドウには次のような特徴があります。

•このウィンドウには、1つ以上のターゲットのビルドのためAntを起動することによって生成されたメッセージが表示されます。


•Antタスクによって生成されたメッセージは、Antビルドファイル内のこれらのタスクの定義にリンクされます。一方、コンパイル・エラーおよび警告は、これらの生成元のソース・コードにリンクされます。


•カラー・コーディングは、メッセージの出力レベルを示します。



